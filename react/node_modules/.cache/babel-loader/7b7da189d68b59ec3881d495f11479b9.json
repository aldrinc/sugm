{"ast":null,"code":"import _classCallCheck from \"/Users/aldrinclement/Documents/shutupandgiftme/sugm/react/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/aldrinclement/Documents/shutupandgiftme/sugm/react/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/aldrinclement/Documents/shutupandgiftme/sugm/react/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/aldrinclement/Documents/shutupandgiftme/sugm/react/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/aldrinclement/Documents/shutupandgiftme/sugm/react/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/Users/aldrinclement/Documents/shutupandgiftme/sugm/react/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"/Users/aldrinclement/Documents/shutupandgiftme/sugm/react/src/components/components/search.js\";\nimport React, { Component } from 'react';\nimport { LocalStorage } from '../../helpers/LocalStorage';\nimport { Link } from \"react-router-dom\";\n\nvar Search =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Search, _Component);\n\n  function Search() {\n    var _this;\n\n    _classCallCheck(this, Search);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Search).call(this));\n\n    _this.handleInputChange = function () {\n      if (!_this.state.products || _this.state.products.length === 0) {\n        var product = _this.lc.getObject('products');\n\n        if (product) _this.setState({\n          products: product\n        });\n      }\n\n      if (_this.state.products && _this.state.products.length > 0 && _this.search.value.length > 0) {\n        var searchProduct = _this.state.products.filter(function (product) {\n          return product.title.toLowerCase().includes(_this.search.value.toLowerCase());\n        });\n\n        if (searchProduct.length > 0) {\n          var showProduct = searchProduct.map(function (pro) {\n            return React.createElement(\"div\", {\n              className: \"searchProduct\",\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 38\n              },\n              __self: this\n            }, React.createElement(\"div\", {\n              className: \"row\",\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 39\n              },\n              __self: this\n            }, React.createElement(\"div\", {\n              className: \"col-4\",\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 40\n              },\n              __self: this\n            }, React.createElement(\"img\", {\n              src: pro.images && pro.images[0] ? pro.images[0].src : '',\n              className: \"searchProjectImage\",\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 41\n              },\n              __self: this\n            })), React.createElement(\"div\", {\n              className: \"col-8\",\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 43\n              },\n              __self: this\n            }, React.createElement(Link, {\n              to: \"/product/\".concat(pro.handle),\n              onClick: _this.props.hideSearch,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 44\n              },\n              __self: this\n            }, pro.title.substring(0, 50), \" \", pro.title.length > 50 ? '...' : ''))));\n          });\n\n          _this.setState({\n            query: showProduct\n          });\n        } else {\n          _this.setState({\n            query: ''\n          });\n        }\n      } else {\n        _this.setState({\n          query: ''\n        });\n      }\n    };\n\n    _this.lc = new LocalStorage();\n    _this.state = {\n      query: '',\n      isHidden: true,\n      products: []\n    };\n    _this.handleInputChange = _this.handleInputChange.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n\n  _createClass(Search, [{\n    key: \"componentWillMount\",\n    value: function componentWillMount() {\n      var product = this.lc.getObject('products');\n      if (product) this.setState({\n        products: product\n      });\n    }\n  }, {\n    key: \"toggleHidden\",\n    value: function toggleHidden() {\n      this.setState({\n        isHidden: !this.state.isHidden\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      return React.createElement(\"form\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 72\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        placeholder: \"What can we help you find?\",\n        type: \"text\",\n        ref: function ref(input) {\n          return _this2.search = input;\n        },\n        onChange: this.handleInputChange,\n        onClick: this.toggleHidden.bind(this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 73\n        },\n        __self: this\n      }), !this.state.isHidden && React.createElement(\"div\", {\n        className: \"form_cnt_box\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 80\n        },\n        __self: this\n      }, this.state.query));\n    }\n  }]);\n\n  return Search;\n}(Component);\n\nexport default Search;","map":{"version":3,"sources":["/Users/aldrinclement/Documents/shutupandgiftme/sugm/react/src/components/components/search.js"],"names":["React","Component","LocalStorage","Link","Search","handleInputChange","state","products","length","product","lc","getObject","setState","search","value","searchProduct","filter","title","toLowerCase","includes","showProduct","map","pro","images","src","handle","props","hideSearch","substring","query","isHidden","bind","input","toggleHidden"],"mappings":"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","sourcesContent":[" \nimport React, { Component } from 'react'\nimport { LocalStorage } from '../../helpers/LocalStorage';\nimport {Link} from \"react-router-dom\";\n\nclass Search extends Component {\n  constructor(){\n    super();\n    this.lc = new LocalStorage();\n    this.state = {\n      query: '',\n      isHidden: true,\n      products: []\n    }\n    this.handleInputChange = this.handleInputChange.bind(this)\n  }\n\n  componentWillMount() {\n    const product = this.lc.getObject('products')\n    if(product)\n      this.setState({products: product})\n  }\n\n handleInputChange = () => {\n   if(!this.state.products || this.state.products.length === 0) {\n   \n      const product = this.lc.getObject('products')\n      if(product)\n        this.setState({products: product})\n   }\n\n    if(this.state.products && this.state.products.length > 0 && this.search.value.length > 0) {\n      const searchProduct = this.state.products.filter( product => product.title.toLowerCase().includes(this.search.value.toLowerCase()) );\n\n      if(searchProduct.length > 0) {\n        let showProduct = searchProduct.map((pro) => {\n          return (\n            <div className=\"searchProduct\"> \n            <div className=\"row\"> \n              <div className=\"col-4\">\n              <img src={(pro.images && pro.images[0]) ? pro.images[0].src : ''} className=\"searchProjectImage\"/>\n              </div>\n             <div className=\"col-8\">\n              <Link to={`/product/${pro.handle}`} onClick={this.props.hideSearch}>{pro.title.substring(0,50)} {(pro.title.length > 50) ? '...' : ''}</Link>\n              \n              </div>\n              </div>\n            </div>\n          );\n        })\n        this.setState({\n          query: showProduct\n        }) \n      } else {\n        this.setState({\n          query: ''\n        }) \n      }\n    } else {\n      this.setState({\n        query: ''\n      }) \n    }\n } \n toggleHidden () {\n    this.setState({\n      isHidden: !this.state.isHidden\n    })\n  }\n render() {\n   return (\n     <form>\n       <input\n         placeholder=\"What can we help you find?\"\n\t\t type=\"text\"\n         ref={input => this.search = input}\n         onChange={this.handleInputChange}\n\t\t onClick={this.toggleHidden.bind(this)}\n       />\n\t   {!this.state.isHidden && <div className=\"form_cnt_box\">{this.state.query}</div> } \n\t   \n     </form>\n   )\n }\n}\n\nexport default Search\n"]},"metadata":{},"sourceType":"module"}